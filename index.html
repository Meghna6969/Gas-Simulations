<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gas Simulator</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
            {
                "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
        </script>
    <script type="module" src="./script.js"></script>
</head>
<body>
    <div id="canvas-container"></div>
    <div id="heat-or-cold"></div>
    <div class="time-controls-panel">
        <div class="buttons-row">
            <button id="pauseBtn" title="pause/play">||</button>
            <button id="stepBtn" title="next frame">-></button>
        </div>
        <div class="time-display-row">
            <div class="time-display">Time: <span id="time-elapsed">0.00</span>s</div>
            <button id="resetBtn" title="Reset Simulation">Reset time</button>
        </div>
        <div class="speed-control">
            <label for="timeSpeed">Simulation Speed</label>
            <div class="control-group">
                <input type="range" min="0.1" max="2" value="1" step="0.1" class="slider" id="timeSpeed">
                <input type="number" class="manual-input" id="timeSpeedDisplay" value="1" step="0.1" min="0.1" max="2">
            </div>
            <span style="font-size: 0.9em;">x<span id="speedMultiplierText">1.0</span></span>
        </div>

    </div>
    <div class="collision-controls-panel">
        <h4>Wall Collisions</h4>
        <h3>100</h3>
        <div class="buttons-row">
            <button id="startCounting" title="Start Counting">Start</button>
            <button id="stopCounting" title="Stop Counting">Stop</button>
        </div>
        <div class="time-display-collisions">Time: <span id="time-elapsed-coll">0.00</span>s</div>
        <button id="resetCollBtn" title="Reset collisions">Reset</button>
    </div>
    <div class="details-panel">
        <h1>Gas Simulator</h1>
        <p>Simulate how gas interact and react based on different temperature, pressure, and volume</p>
        <hr>
        <h3>Particles</h3>
        <section class="panel-section">
            <div class="input-row">
                <label for="amountOfParticlesH"><span style="font-size: 1.25em;">üü° </span>Heavy Particles</label>
                <div class="control-group">
                    <input type="range" min="0" max="400" value="150" class="slider" id="amountOfParticlesH">
                    <input type="number" class="manual-input" id="particleNumDisplayH" value="150" step="0.1">
                </div>
            </div>
            <div class="input-row">
                <label for="amountOfParticlesL"><span style="font-size: 1em;">üî¥</span> Light Particles</label>
                <div class="control-group">
                    <input type="range" min="0" max="400" value="0" class="slider" id="amountOfParticlesL">
                    <input type="number" class="manual-input" id="particleNumDisplayL" value="0" step="0.1">
                </div>
            </div>
        </section>
        <hr>
        <section class="panel-section">
            <h3>Container Volume</h3>
            <div class="input-row">
                <label for="volume">Volume (nm)</label>
                <div class="control-group">
                    <input type="range" min="2" max="10" value="3" step="0.1" class="slider" id="volume">
                    <input type="number" class="manual-input" id="volumeDisplay" value="3" step="0.1">
                </div>
            </div>
        </section>
        <hr>
        <section class="panel-section">
            <h3>Container Temperature</h3>
            <div class="temp-mode-selector">
                <label><input type="radio" name="tempMode" value="relative" checked>Relative Heat</label>
                <label><input type="radio" name="tempMode" value="specific">Specific Temp</label>
            </div>
            <div id="relative-temp-group" class="input-row">
                <label>Relative Kelvin</label>
                <div class="control-group horizontal">
                    <span style="font-size: 20px;">üßä</span>
                    <input type="range" min="-2" max="2" value="0" step="0.1" class="slider" id="temperatureChange">
                    <span style="font-size: 20px;">üî•</span>
                </div>
            </div>
            <div id="specific-temp-group" class="input-row" style="display: none;">
                <label>Target Kelvin</label>
                <div class="control-group">
                    <input type="range" min="30" max="2000" value="293" class="slider" id="specificTempSlider">
                    <input type="number" class="manual-input" id="specificTempInput" value="293">
                </div>
                <button id="resetSpecificTemps">Reset (293K)</button>
            </div>
        </section>
        <hr>
        <div class="checkbox-group">
            <lable for="collisionCounter">
                <input type="checkbox" id="collisionCounter">
                <span>Show Collision Counter</span>
            </lable>
        </div>
    </div>
    <div class="properties-panel">
        <h3>Properties</h3>
        <div class="stats-group">
            <h3>üå° Temperature: <span class="value-texts" id="temp-display">10</span></h3>
            <select id="temperature-unit-select" class="unit-select">
                <option value="K">K</option>
                <option value="C">¬∞C</option>
                <option value="F">¬∞F</option>
            </select>
        </div>
        <div class="stats-group">
            <h3>‚è≤Ô∏è Pressure: <span class="value-texts" id="pressure-display">0.00</span></h3>
            <select id="pressure-unit-select" class="unit-select">
                <option value="atm">atm</option>
                <option value="kPa">kPa</option>
                <option value="Pa">Pa</option>
                <option value="psi">psi</option>
            </select>
        </div>
        <hr>
        <h3>Particles</h3>
        <div class="stats-group">
            <h3>üü° Heavy Particles: <span id="heavy-particles-display">0.00</span></h3>
        </div>
        <div class="stats-group">
            <h3>üî¥ Light Particles: <span id="light-particles-display">0.00</span> </h3>
        </div>
        <hr>
        <h3>Current State</h3>
        <h3 id="clarificationText">No change in temperature!</h3>
    </div>
</body>

</html>